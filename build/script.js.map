{"version":3,"sources":["script.js"],"names":["shuffle","array","t","i","m","length","Math","floor","random","navItems","document","querySelectorAll","slider","querySelector","sliderControls","slides","iphones","filterButtons","galleryBlock","galleryImages","feedbackForm","modalForm","modalResolveButtonHandler","this","closest","classList","remove","reset","removeEventListener","modalOnEscapeHandler","evt","code","contains","window","forEach","x","addEventListener","toggle","currentActive","flexOrders","push","index","style","order","currentSelected","preventDefault","modalFormStatus","modalFormSubject","modalFormDescription","subjectText","value","descriptionText","textContent","trim","add"],"mappings":"AAAA,SAASA,QAAQC,GACf,IAAsBC,EAAGC,EAArBC,EAAIH,EAAMI,OAGd,KAAOD,GAGLD,EAAIG,KAAKC,MAAMD,KAAKE,SAAWJ,KAG/BF,EAAID,EAAMG,GACVH,EAAMG,GAAKH,EAAME,GACjBF,EAAME,GAAKD,EAGb,OAAOD,EAGT,MAAMQ,SAAWC,SAASC,iBAAiB,mBACrCC,OAASF,SAASG,cAAc,WAChCC,eAAiBF,OAAOD,iBAAiB,mBACzCI,OAASH,OAAOD,iBAAiB,UACjCK,QAAUN,SAASC,iBAAiB,WACpCM,cAAgBP,SAASC,iBAAiB,mBAC1CO,aAAeR,SAASG,cAAc,YACtCM,cAAgBT,SAASC,iBAAiB,mBAC1CS,aAAeV,SAASG,cAAc,aACtCQ,UAAYX,SAASG,cAAc,eAEnCS,0BAA4B,WAChCC,KAAKC,QAAQ,iBAAiBC,UAAUC,OAAO,gBAC/CN,aAAaO,QACbJ,KAAKK,oBAAoB,QAASN,4BAG9BO,qBAAuB,SAAUC,GACpB,WAAbA,EAAIC,MACFV,UAAUI,UAAUO,SAAS,kBAC/BX,UAAUI,UAAUC,OAAO,gBAC3BN,aAAaO,QACbM,OAAOL,oBAAoB,UAAWC,wBAK5CpB,SAASyB,QAAQC,GAAKA,EAAEC,iBAAiB,QAAS,KAC1B1B,SAASG,cAAc,0BAC/BY,UAAUY,OAAO,yBAC/BF,EAAEV,UAAUY,OAAO,4BAGrBvB,eAAeoB,QAAQC,GAAKA,EAAEC,iBAAiB,QAAS,KACtDrB,OAAOmB,QAAQC,GAAKA,EAAEV,UAAUY,OAAO,iBACvCrB,QAAQkB,QAAQC,IACVA,EAAEV,UAAUO,SAAS,wBACvBG,EAAEV,UAAUC,OAAO,4BAKzBV,QAAQkB,QAAQC,GAAKA,EAAEC,iBAAiB,QAAS,KAC/CD,EAAEV,UAAUY,OAAO,0BAGrBpB,cAAciB,QAAQC,GAAKA,EAAEC,iBAAiB,QAAS,KACrD,MAAME,EAAgB5B,SAASG,cAAc,0BAE7C,GAAIsB,IAAMG,EAAe,CACvBA,EAAcb,UAAUY,OAAO,yBAC/BF,EAAEV,UAAUY,OAAO,yBAEnB,IAAIE,EAAa,GACjB,IAAK,IAAIpC,EAAI,EAAGA,EAAIgB,cAAcd,OAAQF,IACxCoC,EAAWC,KAAK,GAAGrC,KAErBoC,EAAavC,QAAQuC,GAErBpB,cAAce,QAAQ,CAACC,EAAGM,IAAUN,EAAEO,MAAMC,MAAQJ,EAAWE,QAInEtB,cAAce,QAAQC,GAAKA,EAAEC,iBAAiB,QAAS,KACrD,MAAMQ,EAAkB1B,aAAaL,cAAc,4BAC/C+B,GACFA,EAAgBnB,UAAUY,OAAO,2BACjCF,EAAEV,UAAUY,OAAO,4BAEnBF,EAAEV,UAAUY,OAAO,8BAIvBjB,aAAagB,iBAAiB,SAAWN,IAEvC,GADAA,EAAIe,kBACCxB,UAAUI,UAAUO,SAAS,gBAAiB,CACjD,MAAMc,EAAkBzB,UAAUR,cAAc,uBAC1CkC,EAAmB1B,UAAUR,cAAc,wBAC3CmC,EAAuB3B,UAAUR,cAAc,4BAE/CoC,EAAc7B,aAAaP,cAAc,4BAA4BqC,MACrEC,EAAkB/B,aAAaP,cAAc,uBAAuBqC,MAE1EJ,EAAgBM,YAAc,oBAC9BL,EAAiBK,YAAcH,EAAYI,OAAS,SAASJ,EAAYI,SAAW,WACpFL,EAAqBI,YAAcD,EAAgBE,OAAS,aAAaF,EAAgBE,SAAW,eAEpGhC,UAAUI,UAAU6B,IAAI,gBACxBrB,OAAOG,iBAAiB,UAAWP,sBAGVnB,SAASG,cAAc,uBAC/BuB,iBAAiB,QAASd","file":"script.js","sourcesContent":["function shuffle(array) {\r\n  let m = array.length, t, i;\r\n\r\n  // While there remain elements to shuffle…\r\n  while (m) {\r\n\r\n    // Pick a remaining element…\r\n    i = Math.floor(Math.random() * m--);\r\n\r\n    // And swap it with the current element.\r\n    t = array[m];\r\n    array[m] = array[i];\r\n    array[i] = t;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nconst navItems = document.querySelectorAll('.nav-list__item');\r\nconst slider = document.querySelector('.slider');\r\nconst sliderControls = slider.querySelectorAll('.slider-control');\r\nconst slides = slider.querySelectorAll('.slide');\r\nconst iphones = document.querySelectorAll('.iphone');\r\nconst filterButtons = document.querySelectorAll('.filter__button');\r\nconst galleryBlock = document.querySelector('.gallery');\r\nconst galleryImages = document.querySelectorAll('.gallery__image');\r\nconst feedbackForm = document.querySelector('.feedback');\r\nconst modalForm = document.querySelector('.modal_form');\r\n\r\nconst modalResolveButtonHandler = function () {\r\n  this.closest('.modal_active').classList.remove('modal_active');\r\n  feedbackForm.reset();\r\n  this.removeEventListener('click', modalResolveButtonHandler);\r\n};\r\n\r\nconst modalOnEscapeHandler = function (evt) {\r\n  if (evt.code === 'Escape') {\r\n    if (modalForm.classList.contains('modal_active')) {\r\n      modalForm.classList.remove('modal_active');\r\n      feedbackForm.reset();\r\n      window.removeEventListener('keydown', modalOnEscapeHandler)\r\n    }\r\n  }\r\n};\r\n\r\nnavItems.forEach(x => x.addEventListener('click', () => {\r\n  const currentActive = document.querySelector('.nav-list__item_active');\r\n  currentActive.classList.toggle('nav-list__item_active');\r\n  x.classList.toggle('nav-list__item_active');\r\n}));\r\n\r\nsliderControls.forEach(x => x.addEventListener('click', () => {\r\n  slides.forEach(x => x.classList.toggle('slide_active'));\r\n  iphones.forEach(x => {\r\n    if (x.classList.contains('iphone_disassembled')) {\r\n      x.classList.remove('iphone_disassembled');\r\n    }\r\n  })\r\n}));\r\n\r\niphones.forEach(x => x.addEventListener('click', () => {\r\n  x.classList.toggle('iphone_disassembled');\r\n}));\r\n\r\nfilterButtons.forEach(x => x.addEventListener('click', () => {\r\n  const currentActive = document.querySelector('.filter__button_active');\r\n\r\n  if (x !== currentActive) {\r\n    currentActive.classList.toggle('filter__button_active');\r\n    x.classList.toggle('filter__button_active');\r\n\r\n    let flexOrders = [];\r\n    for (let i = 0; i < galleryImages.length; i++) {\r\n      flexOrders.push(`${i}`);\r\n    }\r\n    flexOrders = shuffle(flexOrders);\r\n\r\n    galleryImages.forEach((x, index) => x.style.order = flexOrders[index]);\r\n  }\r\n}));\r\n\r\ngalleryImages.forEach(x => x.addEventListener('click', () => {\r\n  const currentSelected = galleryBlock.querySelector('.gallery__image_selected');\r\n  if (currentSelected) {\r\n    currentSelected.classList.toggle('gallery__image_selected');\r\n    x.classList.toggle('gallery__image_selected');\r\n  } else {\r\n    x.classList.toggle('gallery__image_selected');\r\n  }\r\n}));\r\n\r\nfeedbackForm.addEventListener('submit', (evt) => {\r\n  evt.preventDefault();\r\n  if (!modalForm.classList.contains('modal_active')) {\r\n    const modalFormStatus = modalForm.querySelector('.form-modal__status');\r\n    const modalFormSubject = modalForm.querySelector('.form-modal__subject');\r\n    const modalFormDescription = modalForm.querySelector('.form-modal__description');\r\n\r\n    const subjectText = feedbackForm.querySelector('.feedback__input_subject').value;\r\n    const descriptionText = feedbackForm.querySelector('.feedback__textarea').value;\r\n\r\n    modalFormStatus.textContent = 'Письмо отправлено';\r\n    modalFormSubject.textContent = subjectText.trim() ? `Тема: ${subjectText.trim()}` : 'Без темы';\r\n    modalFormDescription.textContent = descriptionText.trim() ? `Описание: ${descriptionText.trim()}` : 'Без описания';\r\n\r\n    modalForm.classList.add('modal_active');\r\n    window.addEventListener('keydown', modalOnEscapeHandler);\r\n  }\r\n\r\n  const modalResolveButton = document.querySelector('.form-modal__button');\r\n  modalResolveButton.addEventListener('click', modalResolveButtonHandler);\r\n\r\n});\r\n\r\n"]}